[{"_path":"/nuxt3/features/file-routes","_dir":"features","_draft":false,"_partial":false,"_locale":"en","_empty":false,"title":"文件路由","description":"","excerpt":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"文件路由"},"children":[{"type":"text","value":"文件路由"}]},{"type":"element","tag":"h2","props":{"id":"基础"},"children":[{"type":"text","value":"基础"}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"在 "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"app.vue"}]},{"type":"text","value":" 中加入 "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"NuxtPage"}]}]}]},{"type":"element","tag":"code","props":{"code":"<template>\n    <NuxtPage />\n</template>\n","language":"html"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"<template>\n    <NuxtPage />\n</template>\n"}]}]}]},{"type":"element","tag":"ol","props":{"start":2},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"在 "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"pages"}]},{"type":"text","value":" 下的页面都将被自动路由"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"例如，"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"/"}]},{"type":"text","value":" 页面只需创建 "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"pages/index.vue"}]}]},{"type":"element","tag":"code","props":{"code":"<!-- pages/index.vue -->\n<!-- 路由 / 将渲染 -->\n<template> default </template>\n","language":"html"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"<!-- pages/index.vue -->\n<!-- 路由 / 将渲染 -->\n<template> default </template>\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"又例如，"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"/home"}]},{"type":"text","value":" 页面只需创建 "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"pages/home.vue"}]}]},{"type":"element","tag":"code","props":{"code":"<!-- pages/home.vue -->\n<!-- 路由 /home 将渲染 -->\n<template> home </template>\n","language":"html"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"<!-- pages/home.vue -->\n<!-- 路由 /home 将渲染 -->\n<template> home </template>\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"再例如，"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"/about"}]},{"type":"text","value":" 页面只需创建 "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"pages/about.vue"}]}]},{"type":"element","tag":"code","props":{"code":"<!-- pages/about.vue -->\n<!-- 路由 /about 将渲染 -->\n<template> about </template>\n","language":"html"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"<!-- pages/about.vue -->\n<!-- 路由 /about 将渲染 -->\n<template> about </template>\n"}]}]}]},{"type":"element","tag":"br","props":{},"children":[]},{"type":"element","tag":"br","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"嵌套"},"children":[{"type":"text","value":"嵌套"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"如果需要子路由，可以才用目录嵌套的方式"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"例如，"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"/user/details"}]},{"type":"text","value":" 页面只需创建 "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"pages/user/details.vue"}]}]},{"type":"element","tag":"code","props":{"code":"<!-- pages/user/details.vue -->\n<!-- 路由 /user/details 将渲染 -->\n<template> user/details </template>\n","language":"html"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"<!-- pages/user/details.vue -->\n<!-- 路由 /user/details 将渲染 -->\n<template> user/details </template>\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"当然你还可以创建 "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"pages/user.vue"}]},{"type":"text","value":" 来做成嵌套路由"}]},{"type":"element","tag":"code","props":{"code":"<!-- pages/user.vue -->\n<template>\n    user\n    <NuxtChild /> <!-- 子路由出口 -->\n</template>\n","language":"html"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"<!-- pages/user.vue -->\n<template>\n    user\n    <NuxtChild /> <!-- 子路由出口 -->\n</template>\n"}]}]}]},{"type":"element","tag":"br","props":{},"children":[]},{"type":"element","tag":"br","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"动态"},"children":[{"type":"text","value":"动态"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"如果需要动态路由，可以使用 "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"[param]"}]},{"type":"text","value":" 的方式"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"例如，"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"/user/:id"}]},{"type":"text","value":" 页面只需创建 "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"/pages/user/[id].vue"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"同时可以通过 "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"$route.params.id"}]},{"type":"text","value":" 获取到具体的参数"}]},{"type":"element","tag":"code","props":{"code":"<!-- pages/user/[id].vue -->\n<!-- 路由 /user/:id 将渲染 -->\n<template>\n    user / {{ $route.params.id }}\n</template>\n","language":"html"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"<!-- pages/user/[id].vue -->\n<!-- 路由 /user/:id 将渲染 -->\n<template>\n    user / {{ $route.params.id }}\n</template>\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"当然父路由也可以是动态的"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"例如，"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"/user-:group/:id"}]},{"type":"text","value":" 页面只需创建 "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"/pages/user-[group]/[id].vue"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"同时可以通过 "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"$route.params.group"}]},{"type":"text","value":" 获取到具体的参数"}]},{"type":"element","tag":"code","props":{"code":"<!-- /pages/user-[group]/[id].vue -->\n<!-- 路由 /user-:group/:id 将渲染 -->\n<template>\n    user-{{ $route.params.group }} / {{ $route.params.id }}\n</template>\n","language":"html"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"<!-- /pages/user-[group]/[id].vue -->\n<!-- 路由 /user-:group/:id 将渲染 -->\n<template>\n    user-{{ $route.params.group }} / {{ $route.params.id }}\n</template>\n"}]}]}]},{"type":"element","tag":"br","props":{},"children":[]},{"type":"element","tag":"br","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"导航"},"children":[{"type":"text","value":"导航"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"NuxtLink"}]},{"type":"text","value":" 可以用来导航"}]},{"type":"element","tag":"code","props":{"code":"<!-- app.vue -->\n<template>\n    <!-- 点击将跳转到 /about 页面 -->\n    <NuxtLink to=\"/about\"> to about </NuxtLink>\n</template>\n","language":"html"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"<!-- app.vue -->\n<template>\n    <!-- 点击将跳转到 /about 页面 -->\n    <NuxtLink to=\"/about\"> to about </NuxtLink>\n</template>\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"当然还可以跳转外链"}]},{"type":"element","tag":"code","props":{"code":"<!-- app.vue -->\n<template>\n    <!-- 点击将跳转到 百度 页面 -->\n    <NuxtLink to=\"https://www.baidu.com/\"> to baidu </NuxtLink>\n</template>\n","language":"html"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"<!-- app.vue -->\n<template>\n    <!-- 点击将跳转到 百度 页面 -->\n    <NuxtLink to=\"https://www.baidu.com/\"> to baidu </NuxtLink>\n</template>\n"}]}]}]},{"type":"element","tag":"br","props":{},"children":[]},{"type":"element","tag":"br","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"元信息"},"children":[{"type":"text","value":"元信息"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"我们可以通过 "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"definePageMeta"}]},{"type":"text","value":" 设置当前路由的元信息"}]},{"type":"element","tag":"code","props":{"code":"<script setup lang=\"ts\">\n// 定义元信息\ndefinePageMeta({\n    foo: 'bar'\n})\n\n// 获取当前路由\nconst route = useRoute()\n\n// 获取元信息\nconst { meta } = route\nconsole.log(\n    toRaw(meta) // 输出 { foo: 'bar' }\n)\n</script>\n","language":"html"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"<script setup lang=\"ts\">\n// 定义元信息\ndefinePageMeta({\n    foo: 'bar'\n})\n\n// 获取当前路由\nconst route = useRoute()\n\n// 获取元信息\nconst { meta } = route\nconsole.log(\n    toRaw(meta) // 输出 { foo: 'bar' }\n)\n</script>\n"}]}]}]}]},"_type":"markdown","_id":"content:2.nuxt3:2.features:file-routes.md","_source":"content","_file":"2.nuxt3/2.features/file-routes.md","_extension":"md"},{"_path":"/nuxt3/features/shared-state","_dir":"features","_draft":false,"_partial":false,"_locale":"en","_empty":false,"title":"状态共享","description":"","excerpt":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"状态共享"},"children":[{"type":"text","value":"状态共享"}]},{"type":"element","tag":"h2","props":{"id":"基础"},"children":[{"type":"text","value":"基础"}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"使用 "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"useState"}]},{"type":"text","value":" 可以定义简单的共享状态"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"例如在 "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"composables"}]},{"type":"text","value":" 中定义 "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"useCounter"}]}]},{"type":"element","tag":"code","props":{"code":"// composables/useCounter.ts\n// composables 下模块的同名导出将被自动按需引入\nexport const useCounter = () => useState('counter', () => 100)\n","language":"ts"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"// composables/useCounter.ts\n// composables 下模块的同名导出将被自动按需引入\nexport const useCounter = () => useState('counter', () => 100)\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"useState"}]},{"type":"text","value":" 的第一参数为 "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"key"}]},{"type":"text","value":"，第二参数为初始化的工厂函数"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"此时在 "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"index"}]},{"type":"text","value":" 页面中可以直接使用 "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"useCounter"}]}]},{"type":"element","tag":"code","props":{"code":"<!-- pages/index.vue -->\n<script lang=\"ts\" setup>\n    const conuter = useCounter() // 这是按需自动引入的\n</script>\n\n<template>\n    <div> <!-- 顶层的 div 包裹是必需的，不然跳转会丢失状态 -->\n        <div @click=\"conuter++\">{{ conuter }}</div>\n        <NuxtLink to=\"/home\">to home</NuxtLink>\n    </div>\n</template>\n","language":"html"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"<!-- pages/index.vue -->\n<script lang=\"ts\" setup>\n    const conuter = useCounter() // 这是按需自动引入的\n</script>\n\n<template>\n    <div> <!-- 顶层的 div 包裹是必需的，不然跳转会丢失状态 -->\n        <div @click=\"conuter++\">{{ conuter }}</div>\n        <NuxtLink to=\"/home\">to home</NuxtLink>\n    </div>\n</template>\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"home"}]},{"type":"text","value":" 页面中也可以直接使用"}]},{"type":"element","tag":"code","props":{"code":"<!-- pages/home.vue -->\n<script lang=\"ts\" setup>\n    const conuter = useCounter()\n</script>\n\n<template>\n    <div @click=\"conuter++\">{{ conuter }}</div>\n</template>\n","language":"html"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"<!-- pages/home.vue -->\n<script lang=\"ts\" setup>\n    const conuter = useCounter()\n</script>\n\n<template>\n    <div @click=\"conuter++\">{{ conuter }}</div>\n</template>\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"你会发现两个页面的状态是共享的 👍"}]},{"type":"element","tag":"br","props":{},"children":[]},{"type":"element","tag":"br","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"注意"},"children":[{"type":"text","value":"注意"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"useState"}]},{"type":"text","value":" 只允许在生命周期中使用。"}]}]},"_type":"markdown","_id":"content:2.nuxt3:2.features:shared-state.md","_source":"content","_file":"2.nuxt3/2.features/shared-state.md","_extension":"md"}]